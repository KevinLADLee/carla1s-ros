<launch>

  <arg name='role_name' default='ego_vehicle'/>

    <node name="carla_decision_node" pkg="carla_decision" type="carla_decision_node" output="screen" />

    <include file="$(find carla_global_planner)/launch/carla_global_planner.launch" />

    <include file="$(find carla_path_tracking)/launch/tracking.launch" />

    <arg name="control_loop_rate" default="0.05" />
    <node pkg="carla_ackermann_control" type="carla_ackermann_control_node.py" name="carla_ackermann_control_$(arg role_name)" output="screen">
      <param name="role_name" value="$(arg role_name)" />
      <param name="control_loop_rate" value="$(arg control_loop_rate)" />
      <rosparam file="$(find carla_2d_nav)/param/ackermann_control.yaml" command="load" />
    </node>


<!--     <include file="$(find carla_fake_perception)/launch/fake_perception.launch" /> -->

</launch>